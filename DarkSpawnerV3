while not game:IsLoaded() do task.wait(0.1) end

-- Проверка на мобильное устройство
if not game:GetService("UserInputService").TouchEnabled then
    warn("Этот скрипт работает только на мобильных устройствах!")
    return
end

-- Удаляем старый загрузчик, если есть
if game:GetService("CoreGui"):FindFirstChild("RainbowLoader") then
    game:GetService("CoreGui").RainbowLoader:Destroy()
end

-- Создаем основной интерфейс
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "RainbowLoader"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = game:GetService("CoreGui")

-- Главный контейнер (по центру экрана)
local container = Instance.new("Frame")
container.Size = UDim2.new(0.75, 0, 0.22, 0)
container.Position = UDim2.new(0.5, 0, 0.5, 0)
container.AnchorPoint = Vector2.new(0.5, 0.5)
container.BackgroundTransparency = 0.15
container.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
container.Parent = screenGui

-- Закругление углов
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.08, 0)
uiCorner.Parent = container

-- Радужная обводка (анимированная)
local stroke = Instance.new("UIStroke")
stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
stroke.Thickness = 4
stroke.LineJoinMode = Enum.LineJoinMode.Round
stroke.Parent = container

-- Текст загрузки
local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(0.9, 0, 0.4, 0)
textLabel.Position = UDim2.new(0.05, 0, 0.1, 0)
textLabel.Text = "INITIALIZING SYSTEM"
textLabel.TextColor3 = Color3.new(1, 1, 1)
textLabel.BackgroundTransparency = 1
textLabel.Font = Enum.Font.SourceSansBold
textLabel.TextSize = 22
textLabel.TextXAlignment = Enum.TextXAlignment.Left
textLabel.Parent = container

-- Проценты
local percentLabel = Instance.new("TextLabel")
percentLabel.Size = UDim2.new(0.2, 0, 0.4, 0)
percentLabel.Position = UDim2.new(0.75, 0, 0.1, 0)
percentLabel.Text = "0%"
percentLabel.TextColor3 = Color3.new(1, 1, 1)
percentLabel.BackgroundTransparency = 1
percentLabel.Font = Enum.Font.SourceSansBold
percentLabel.TextSize = 22
percentLabel.TextXAlignment = Enum.TextXAlignment.Right
percentLabel.Parent = container

-- Полоса загрузки (фон)
local progressBar = Instance.new("Frame")
progressBar.Size = UDim2.new(0.9, 0, 0.15, 0)
progressBar.Position = UDim2.new(0.05, 0, 0.65, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
progressBar.BorderSizePixel = 0
progressBar.Parent = container

-- Закругление полосы загрузки
local barCorner = Instance.new("UICorner")
barCorner.CornerRadius = UDim.new(0.5, 0)
barCorner.Parent = progressBar

-- Заполнение прогресса
local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.BackgroundColor3 = Color3.fromRGB(100, 180, 255)
progressFill.BorderSizePixel = 0
progressFill.Parent = progressBar

local fillCorner = Instance.new("UICorner")
fillCorner.CornerRadius = UDim.new(0.5, 0)
fillCorner.Parent = progressFill

-- Анимация радужной обводки
local function rainbowStroke()
    local hue = 0
    while true do
        hue = (hue + 0.005) % 1
        stroke.Color = Color3.fromHSV(hue, 0.8, 1)
        task.wait(0.05)
    end
end

-- Функция запуска вашего скрипта
local function executeMainScript()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Nba20001/GrowAGarden/main/DarkSpawnerV4"))()
        textLabel.Text = "SCRIPT INJECTED"
    end)
end

-- Медленная загрузка с запуском скрипта
local function loadingAnimation()
    local progress = 0
    -- Запускаем ваш скрипт сразу в отдельном потоке
    coroutine.wrap(executeMainScript)()
    
    while true do
        if progress < 99.9 then
            progress = progress + math.random() * 0.3
            percentLabel.Text = string.format("%.1f%%", progress)
            progressFill.Size = UDim2.new(progress/100, 0, 1, 0)
            
            -- Меняем текст в процессе
            if progress < 30 then
                textLabel.Text = "LOADING RESOURCES"
            elseif progress < 60 then
                textLabel.Text = "INJECTING CODE"
            else
                textLabel.Text = "FINALIZING"
            end
            
            task.wait(math.random(0.05, 0.15))
        else
            percentLabel.Text = "99.9%"
            progressFill.Size = UDim2.new(0.999, 0, 1, 0)
            task.wait(0.5)
        end
    end
end

-- Анимация точек
local function animateDots()
    while true do
        for i = 1, 3 do
            textLabel.Text = textLabel.Text:gsub("%.%s*$", "") .. string.rep(".", i)
            task.wait(0.5)
        end
    end
end

-- Запускаем все анимации
coroutine.wrap(rainbowStroke)()
coroutine.wrap(loadingAnimation)()
coroutine.wrap(animateDots)()

print("Система загрузки активирована, скрипт запущен!")ssBar.Size = UDim2.new(0.9, 0, 0.15, 0)
progressBar.Position = UDim2.new(0.05, 0, 0.65, 0)
progressBar.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
progressBar.BorderSizePixel = 0
progressBar.Parent = container

-- Закругление полосы загрузки
local barCorner = Instance.new("UICorner")
barCorner.CornerRadius = UDim.new(0.5, 0)
barCorner.Parent = progressBar

-- Заполнение прогресса
local progressFill = Instance.new("Frame")
progressFill.Size = UDim2.new(0, 0, 1, 0)
progressFill.BackgroundColor3 = Color3.fromRGB(100, 180, 255)
progressFill.BorderSizePixel = 0
progressFill.Parent = progressBar

local fillCorner = Instance.new("UICorner")
fillCorner.CornerRadius = UDim.new(0.5, 0)
fillCorner.Parent = progressFill

-- Анимация радужной обводки
local function rainbowStroke()
    local hue = 0
    while true do
        hue = (hue + 0.005) % 1
        stroke.Color = Color3.fromHSV(hue, 0.8, 1)
        task.wait(0.05)
    end
end

-- Функция запуска вашего скрипта
local function executeMainScript()
    pcall(function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Nba20001/GrowAGarden/main/DarkSpawnerV4"))()
        textLabel.Text = "SCRIPT INJECTED"
    end)
end

-- Медленная загрузка с запуском скрипта
local function loadingAnimation()
    local progress = 0
    -- Запускаем ваш скрипт сразу в отдельном потоке
    coroutine.wrap(executeMainScript)()
    
    while true do
        if progress < 99.9 then
            progress = progress + math.random() * 0.3
            percentLabel.Text = string.format("%.1f%%", progress)
            progressFill.Size = UDim2.new(progress/100, 0, 1, 0)
            
            -- Меняем текст в процессе
            if progress < 30 then
                textLabel.Text = "LOADING RESOURCES"
            elseif progress < 60 then
                textLabel.Text = "INJECTING CODE"
            else
                textLabel.Text = "FINALIZING"
            end
            
            task.wait(math.random(0.05, 0.15))
        else
            percentLabel.Text = "99.9%"
            progressFill.Size = UDim2.new(0.999, 0, 1, 0)
            task.wait(0.5)
        end
    end
end

-- Анимация точек
local function animateDots()
    while true do
        for i = 1, 3 do
            textLabel.Text = textLabel.Text:gsub("%.%s*$", "") .. string.rep(".", i)
            task.wait(0.5)
        end
    end
end

-- Запускаем все анимации
coroutine.wrap(rainbowStroke)()
coroutine.wrap(loadingAnimation)()
coroutine.wrap(animateDots)()

print("Система загрузки активирована, скрипт запущен!")
